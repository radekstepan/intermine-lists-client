<!doctype html>
<head>
    <meta charset="utf-8" />

    <title>Blað CMS</title>

    <link rel="stylesheet" href="css/foundation3.css">
    <link rel="stylesheet" href="css/style.css">

    <script src="js/vendor/require-2.0.2.js"></script>
</head>
<body>
    <div id="top">
        <div class="row">
            <div class="two columns">
                <a class="name" href="/admin">Blað CMS</a>
            </div>
            <div class="two column">
                <a href="new" class="small blue nice button right new">New Document</a></a>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="twelve columns">
            <div id="app"></div>
        </div>
    </div>
</body>

<script>
// Configure the AMD module loader
requirejs.config({
    // The path where your JavaScripts are located
    baseUrl: '/admin/js/',
    // Specify the paths of vendor libraries
    paths: {
        'jquery':     'vendor/jquery-1.7.2',
        'underscore': 'vendor/underscore-1.3.3',
        'backbone':   'vendor/backbone-0.9.2',
        'chaplin':    'vendor/chaplin',
        'foundation': 'vendor/foundation',
        'modernizr':  'vendor/modernizr.foundation',
        'browserid':  'vendor/browserid'
    },
    // Underscore and Backbone are not AMD-capable per default,
    // so we need to use the AMD wrapping of RequireJS
    shim: {
        'backbone': {
            'deps': [ 'underscore', 'jquery' ],
            'exports': 'Backbone'
        },
        'underscore': {
            'exports': '_'
        },
        'foundation': {
            'deps': [ 'jquery', 'modernizr' ]
        }
    }
    // For easier development, disable browser caching
    // Of course, this should be removed in a production environment
    //, urlArgs: 'bust=' +  (new Date()).getTime()
});

// Bootstrap the application requiring Foundation3 and BrowserID
require(['application', 'foundation', 'browserid'], function (Application) {
    window.app = new Application();
    window.app.initialize();
});
</script>

</html>